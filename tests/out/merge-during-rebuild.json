[{"program_text":"; This file tests that non-union merges can be triggered during rebuilds as well\n; as \"inline\" during a set action. See issue #42\n\n(datatype N (Node i64))\n(function distance (N N) i64 :merge (min old new))\n\n(let a (Node 0))\n(let b (Node 1))\n(let x (Node 2))\n(let y (Node 3))\n(set (distance x y) 1)\n(set (distance a b) 2)\n\n(union a x)\n(union b y)\n\n(run 1)\n(check (= (distance x y) 1)) ; fails, the distance has gone up!\n","evts":[{"sexp_idx":0,"evt":"start","time":{"secs":0,"nanos":1961199}},{"sexp_idx":0,"evt":"end","time":{"secs":0,"nanos":2114274}},{"sexp_idx":1,"evt":"start","time":{"secs":0,"nanos":2114500}},{"sexp_idx":1,"evt":"end","time":{"secs":0,"nanos":2319939}},{"sexp_idx":2,"evt":"start","time":{"secs":0,"nanos":2320256}},{"sexp_idx":2,"evt":"end","time":{"secs":0,"nanos":2995139}},{"sexp_idx":3,"evt":"start","time":{"secs":0,"nanos":2995386}},{"sexp_idx":3,"evt":"end","time":{"secs":0,"nanos":3747042}},{"sexp_idx":4,"evt":"start","time":{"secs":0,"nanos":3747357}},{"sexp_idx":4,"evt":"end","time":{"secs":0,"nanos":4494936}},{"sexp_idx":5,"evt":"start","time":{"secs":0,"nanos":4495159}},{"sexp_idx":5,"evt":"end","time":{"secs":0,"nanos":5242962}},{"sexp_idx":6,"evt":"start","time":{"secs":0,"nanos":5243187}},{"sexp_idx":6,"evt":"end","time":{"secs":0,"nanos":5972203}},{"sexp_idx":7,"evt":"start","time":{"secs":0,"nanos":5972481}},{"sexp_idx":7,"evt":"end","time":{"secs":0,"nanos":6626002}},{"sexp_idx":8,"evt":"start","time":{"secs":0,"nanos":6626157}},{"sexp_idx":8,"evt":"end","time":{"secs":0,"nanos":7626654}},{"sexp_idx":9,"evt":"start","time":{"secs":0,"nanos":7627087}},{"sexp_idx":9,"evt":"end","time":{"secs":0,"nanos":8578649}},{"sexp_idx":10,"evt":"start","time":{"secs":0,"nanos":8578809}},{"sexp_idx":10,"evt":"end","time":{"secs":0,"nanos":8628380}},{"sexp_idx":11,"evt":"start","time":{"secs":0,"nanos":8628559}},{"sexp_idx":11,"evt":"end","time":{"secs":0,"nanos":9137152}}]}]