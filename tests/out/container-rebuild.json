[{"program_text":"(push)\n(datatype Math\n  (Num i64))\n\n(sort MathVec (Vec Math))\n\n(let v1 (vec-of (Num 1) (Num 2)))\n(let v2 (vec-of (Num 2) (Num 2)))\n\n(union (Num 1) (Num 2))\n\n(check (= v1 v2))\n\n(constructor MyVec (MathVec) Math)\n\n(MyVec v1)\n\n(check (MyVec v2))\n\n(check (= (MyVec v1) (MyVec v2)))\n\n(let v3 (vec-of (Num 4) (Num 5)))\n\n(union (Num 4) (Num 6))\n(union (Num 5) (Num 7))\n\n;; We don't have any (MyVec v3) yet\n(fail (check (= (MyVec v3) (MyVec (vec-of (Num 6) (Num 7))))))\n\n(MyVec v3)\n(check (= (MyVec v3) (MyVec (vec-of (Num 6) (Num 7)))))\n\n(pop)\n\n(push)\n\n(datatype Math\n  (Num i64))\n\n(sort MathVec (Vec Math))\n\n\n(let v1 (vec-of (Num 1) (Num 2)))\n(let v2 (vec-of (Num 2) (Num 2)))\n\n(union (Num 1) (Num 2))\n\n(constructor MyVec (MathVec) Math)\n\n;; make a reference to v1\n(MyVec v1)\n\n(extract (MyVec v1))\n\n;; rebuilding creates (MyVec v2)\n(check (= (MyVec v1) (MyVec v2)))\n(pop)\n\n(push)\n(datatype Math\n  (Add i64 i64)\n  (Expensive :cost 100))\n\n(sort MathVec (Vec Math))\n\n(let myvec (vec-of (Expensive)))\n(let cheapvec (vec-of (Add 1 2)))\n\n(constructor VecContainer (MathVec) Math)\n\n(let myvecontainer (VecContainer cheapvec))\n\n\n(union myvecontainer (Expensive))\n\n;; (vec-push (vec-empty) (VecContainer (vec-push (vec-empty) (Add 1 2))))\n;; should have cost 4\n(extract myvec 0)\n\n(pop)","evts":[{"sexp_idx":0,"evt":"start","time":{"secs":0,"nanos":2611944}},{"sexp_idx":0,"evt":"end","time":{"secs":0,"nanos":2910508}},{"sexp_idx":1,"evt":"start","time":{"secs":0,"nanos":2910830}},{"sexp_idx":1,"evt":"end","time":{"secs":0,"nanos":3150305}},{"sexp_idx":2,"evt":"start","time":{"secs":0,"nanos":3150533}},{"sexp_idx":2,"evt":"end","time":{"secs":0,"nanos":3385710}},{"sexp_idx":3,"evt":"start","time":{"secs":0,"nanos":3385881}},{"sexp_idx":3,"evt":"end","time":{"secs":0,"nanos":5186726}},{"sexp_idx":4,"evt":"start","time":{"secs":0,"nanos":5187417}},{"sexp_idx":4,"evt":"end","time":{"secs":0,"nanos":15823775}},{"sexp_idx":5,"evt":"start","time":{"secs":0,"nanos":15824533}},{"sexp_idx":5,"evt":"end","time":{"secs":0,"nanos":28405796}},{"sexp_idx":6,"evt":"start","time":{"secs":0,"nanos":28406494}},{"sexp_idx":6,"evt":"end","time":{"secs":0,"nanos":29406499}},{"sexp_idx":7,"evt":"start","time":{"secs":0,"nanos":29407054}},{"sexp_idx":7,"evt":"end","time":{"secs":0,"nanos":29681285}},{"sexp_idx":8,"evt":"start","time":{"secs":0,"nanos":29681719}},{"sexp_idx":8,"evt":"end","time":{"secs":0,"nanos":31557670}},{"sexp_idx":9,"evt":"start","time":{"secs":0,"nanos":31558272}},{"sexp_idx":9,"evt":"end","time":{"secs":0,"nanos":32792979}},{"sexp_idx":10,"evt":"start","time":{"secs":0,"nanos":32793578}},{"sexp_idx":10,"evt":"end","time":{"secs":0,"nanos":34447440}},{"sexp_idx":11,"evt":"start","time":{"secs":0,"nanos":34448131}},{"sexp_idx":11,"evt":"end","time":{"secs":0,"nanos":47705514}},{"sexp_idx":12,"evt":"start","time":{"secs":0,"nanos":47706278}},{"sexp_idx":12,"evt":"end","time":{"secs":0,"nanos":51228067}},{"sexp_idx":13,"evt":"start","time":{"secs":0,"nanos":51229099}},{"sexp_idx":13,"evt":"end","time":{"secs":0,"nanos":81311557}},{"sexp_idx":14,"evt":"start","time":{"secs":0,"nanos":81312355}},{"sexp_idx":14,"evt":"end","time":{"secs":0,"nanos":82709747}},{"sexp_idx":15,"evt":"start","time":{"secs":0,"nanos":82710305}},{"sexp_idx":15,"evt":"end","time":{"secs":0,"nanos":84008233}},{"sexp_idx":16,"evt":"start","time":{"secs":0,"nanos":84008696}},{"sexp_idx":16,"evt":"end","time":{"secs":0,"nanos":85189645}},{"sexp_idx":17,"evt":"start","time":{"secs":0,"nanos":85190103}},{"sexp_idx":17,"evt":"end","time":{"secs":0,"nanos":87230902}},{"sexp_idx":18,"evt":"start","time":{"secs":0,"nanos":87232303}},{"sexp_idx":18,"evt":"end","time":{"secs":0,"nanos":87733081}},{"sexp_idx":19,"evt":"start","time":{"secs":0,"nanos":87733618}},{"sexp_idx":19,"evt":"end","time":{"secs":0,"nanos":88029834}},{"sexp_idx":20,"evt":"start","time":{"secs":0,"nanos":88030365}},{"sexp_idx":20,"evt":"end","time":{"secs":0,"nanos":88175488}},{"sexp_idx":21,"evt":"start","time":{"secs":0,"nanos":88175855}},{"sexp_idx":21,"evt":"end","time":{"secs":0,"nanos":89385181}},{"sexp_idx":22,"evt":"start","time":{"secs":0,"nanos":89385756}},{"sexp_idx":22,"evt":"end","time":{"secs":0,"nanos":90827840}},{"sexp_idx":23,"evt":"start","time":{"secs":0,"nanos":90828300}},{"sexp_idx":23,"evt":"end","time":{"secs":0,"nanos":93877034}},{"sexp_idx":24,"evt":"start","time":{"secs":0,"nanos":93877781}},{"sexp_idx":24,"evt":"end","time":{"secs":0,"nanos":94160768}},{"sexp_idx":25,"evt":"start","time":{"secs":0,"nanos":94161221}},{"sexp_idx":25,"evt":"end","time":{"secs":0,"nanos":95978417}},{"sexp_idx":26,"evt":"start","time":{"secs":0,"nanos":95978922}},{"sexp_idx":26,"evt":"end","time":{"secs":0,"nanos":97613523}},{"sexp_idx":27,"evt":"start","time":{"secs":0,"nanos":97614011}},{"sexp_idx":27,"evt":"end","time":{"secs":0,"nanos":98778068}},{"sexp_idx":28,"evt":"start","time":{"secs":0,"nanos":98778528}},{"sexp_idx":28,"evt":"end","time":{"secs":0,"nanos":101299984}},{"sexp_idx":29,"evt":"start","time":{"secs":0,"nanos":101300958}},{"sexp_idx":29,"evt":"end","time":{"secs":0,"nanos":101650711}},{"sexp_idx":30,"evt":"start","time":{"secs":0,"nanos":101651052}},{"sexp_idx":30,"evt":"end","time":{"secs":0,"nanos":101959519}},{"sexp_idx":31,"evt":"start","time":{"secs":0,"nanos":101959987}},{"sexp_idx":31,"evt":"end","time":{"secs":0,"nanos":102105975}},{"sexp_idx":32,"evt":"start","time":{"secs":0,"nanos":102106285}},{"sexp_idx":32,"evt":"end","time":{"secs":0,"nanos":103735986}},{"sexp_idx":33,"evt":"start","time":{"secs":0,"nanos":103736583}},{"sexp_idx":33,"evt":"end","time":{"secs":0,"nanos":112895782}},{"sexp_idx":34,"evt":"start","time":{"secs":0,"nanos":112896557}},{"sexp_idx":34,"evt":"end","time":{"secs":0,"nanos":113186869}},{"sexp_idx":35,"evt":"start","time":{"secs":0,"nanos":113187434}},{"sexp_idx":35,"evt":"end","time":{"secs":0,"nanos":126345509}},{"sexp_idx":36,"evt":"start","time":{"secs":0,"nanos":126346386}},{"sexp_idx":36,"evt":"end","time":{"secs":0,"nanos":139588655}},{"sexp_idx":37,"evt":"start","time":{"secs":0,"nanos":139589662}},{"sexp_idx":37,"evt":"end","time":{"secs":0,"nanos":141172920}},{"sexp_idx":38,"evt":"start","time":{"secs":0,"nanos":141173431}},{"sexp_idx":38,"evt":"end","time":{"secs":0,"nanos":144633766}}]}]