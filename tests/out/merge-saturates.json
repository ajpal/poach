[{"program_text":"(function foo () i64 :merge (min old new))\n\n(set (foo) 0)\n\n; This should break at iteration 0 because the merge doesn't cause any updates\n(rule ((= f (foo))) ((set (foo) 1)))\n(run 100)\n\n\n; This should run for about 50 iterations, because even though the merge doesn't\n; change the value of baz, it has a side effect of expanding the domain of bar.\n\n;(function baz (i64) i64 :default 0)\n\n;(function bar () i64 :merge (min (baz new) 0))\n\n;(set (bar) 1)\n;(set (bar) 2)\n\n;(rule ((= f (baz x)) (< x 50))\n;      ((set (bar) (+ x 1))))\n\n;(run 100)\n;(check (= 0 (baz 50)))\n\n; The exploit above is no longer valid due to the removal of default\n; however, can still do with lookups in merge and constructors/relations\n\n(relation baz (i64))\n\n(function const (Unit) i64 :no-merge)\n\n(set (const ()) 0)\n\n(function bar () i64 :merge (const (baz new)))\n\n(set (bar) 0)\n(set (bar) 1)\n(set (bar) 2)\n\n(rule (\n      (baz x)\n      (< x 50)\n) (\n      (set (bar) (+ x 1))\n))\n\n(run 100)\n(check (baz 50))","evts":[{"sexp_idx":0,"evt":"start","time":{"secs":0,"nanos":558813}},{"sexp_idx":0,"evt":"end","time":{"secs":0,"nanos":791148}},{"sexp_idx":1,"evt":"start","time":{"secs":0,"nanos":791448}},{"sexp_idx":1,"evt":"end","time":{"secs":0,"nanos":1077916}},{"sexp_idx":2,"evt":"start","time":{"secs":0,"nanos":1078148}},{"sexp_idx":2,"evt":"end","time":{"secs":0,"nanos":1219425}},{"sexp_idx":3,"evt":"start","time":{"secs":0,"nanos":1219619}},{"sexp_idx":3,"evt":"end","time":{"secs":0,"nanos":1447826}},{"sexp_idx":4,"evt":"start","time":{"secs":0,"nanos":1448005}},{"sexp_idx":4,"evt":"end","time":{"secs":0,"nanos":1531118}},{"sexp_idx":5,"evt":"start","time":{"secs":0,"nanos":1531210}},{"sexp_idx":5,"evt":"end","time":{"secs":0,"nanos":1586372}},{"sexp_idx":6,"evt":"start","time":{"secs":0,"nanos":1586435}},{"sexp_idx":6,"evt":"end","time":{"secs":0,"nanos":1965815}},{"sexp_idx":7,"evt":"start","time":{"secs":0,"nanos":1966059}},{"sexp_idx":7,"evt":"end","time":{"secs":0,"nanos":2123736}},{"sexp_idx":8,"evt":"start","time":{"secs":0,"nanos":2123943}},{"sexp_idx":8,"evt":"end","time":{"secs":0,"nanos":2567855}},{"sexp_idx":9,"evt":"start","time":{"secs":0,"nanos":2568174}},{"sexp_idx":9,"evt":"end","time":{"secs":0,"nanos":3159073}},{"sexp_idx":10,"evt":"start","time":{"secs":0,"nanos":3159230}},{"sexp_idx":10,"evt":"end","time":{"secs":0,"nanos":3754122}},{"sexp_idx":11,"evt":"start","time":{"secs":0,"nanos":3754277}},{"sexp_idx":11,"evt":"end","time":{"secs":0,"nanos":4039977}},{"sexp_idx":12,"evt":"start","time":{"secs":0,"nanos":4040198}},{"sexp_idx":12,"evt":"end","time":{"secs":0,"nanos":35224948}},{"sexp_idx":13,"evt":"start","time":{"secs":0,"nanos":35225803}},{"sexp_idx":13,"evt":"end","time":{"secs":0,"nanos":35859320}}]}]